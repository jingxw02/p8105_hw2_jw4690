p8105_hw2_jw4690
================
Jingxi Wang
2024-09-26

## Problem 1

``` r
NYCSubway_df = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") |>
  janitor::clean_names() |>
  select(line, station_name, station_latitude, station_longitude, route1, route2, route3, route4,
         route5, route6, route7, route8, route9, route10, route11, entry, vending, entrance_type, ada) |>
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The dataset details NYC subway entrances and exits, including the line,
station name, station latitude, station longitude, routes, entrance
type, entry, vending, and ADA. Cleaning steps included clean names,
selecting needed variables, and converting entry from “YES”/“NO” to
TRUE/FALSE. The cleaned dataset has 1868 of rows and 19 columns. The
data is tidy, with each row representing a unique entrance/exit and each
column a distinct variable.

``` r
distinct_stations = NYCSubway_df |>
  distinct(line, station_name)
```

There are 465 distinct stations.

``` r
ADA_compliant = NYCSubway_df |>
  filter(ada == "TRUE") |>
  distinct(line, station_name)
```

There are 84 stations are ADA compliant.

``` r
without_vending = NYCSubway_df |>
  filter(vending == "NO")
```

The proportion of station entrances / exits without vending allow
entrance is 0.3770492.

``` r
NYCSubway_df = NYCSubway_df |>
  mutate(across(route1:route11, as.character))

routes = NYCSubway_df |>
  pivot_longer(cols = route1:route11,
               names_to = "route_number",
               values_to = "route_name") |>
  filter(!is.na(route_name))
```

``` r
A_train = routes |>
  filter(route_name == "A") |>
  distinct(line, station_name)
```

60 distinct stations serve the A train.

``` r
A_train_ADA = routes |>
  filter(route_name == "A", ada == "TRUE") |>
  distinct(line, station_name)
```

Of the stations that serve the A train, 17 are ADA compliant.
